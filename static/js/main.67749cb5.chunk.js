(this["webpackJsonprss-reader-fe"]=this["webpackJsonprss-reader-fe"]||[]).push([[0],{29:function(e,t,n){},34:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(22),s=n.n(a),u=n(13),i=(n(29),n(1)),o=n(2);function j(){return Object(o.jsx)(i.c,{children:Object(o.jsx)(i.a,{path:"rss-reader/",element:Object(o.jsx)(b,{})})})}function b(){return Object(o.jsx)("div",{children:"Home page"})}var h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},d=n(6),l=n.n(d),p=n(10),x=n(5),f=n(7),O=n.n(f),v=n(23),m=n.n(v),g=(n(34),n(24)),S=n.n(g),k=function(e){var t=S.a.create({baseURL:"https://meny-rss-reader.herokuapp.com/",timeout:1e4,headers:{Authorization:"Basic "+e}});return{checkAuth:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("/login");case 3:if(200===e.sent.status){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()}},w=c.a.createContext({service:k(""),setService:function(){}});function y(e){var t=e.children,n=O.a.get("auth_token"),r=c.a.useState(k(n||"")),a=Object(x.a)(r,2),s=a[0],u=a[1],i=c.a.useMemo((function(){return{service:s,setService:u}}),[s]);return Object(o.jsx)(w.Provider,{value:i,children:t})}function C(e){var t=e.children,n=c.a.useState(!1),r=Object(x.a)(n,2),a=r[0],s=r[1],u=c.a.useState(""),i=Object(x.a)(u,2),j=i[0],b=i[1],h=c.a.useState(""),d=Object(x.a)(h,2),f=d[0],v=d[1],g=c.a.useContext(w),S=g.service,y=g.setService;return c.a.useEffect((function(){var e=function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.checkAuth();case 2:e.sent?s(!0):(s(!1),O.a.remove("auth_token"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[S]),a?t:Object(o.jsx)("div",{className:"LoginForm",children:Object(o.jsx)("form",{onSubmit:function(e){var t=m.a.encode("".concat(j,":").concat(f));O.a.set("auth_token",t),y(k(t)),e.preventDefault()},children:Object(o.jsxs)("table",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("label",{htmlFor:"username",children:"Username: "})}),Object(o.jsx)("td",{children:Object(o.jsx)("input",{type:"text",value:j,onChange:function(e){b(e.target.value)}})})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("label",{htmlFor:"password",children:"Password: "})}),Object(o.jsx)("td",{children:Object(o.jsx)("input",{type:"password",value:f,onChange:function(e){v(e.target.value)}})})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{}),Object(o.jsx)("td",{className:"Submit",children:Object(o.jsx)("input",{type:"submit",value:"Submit"})})]})]})})})}s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(y,{children:Object(o.jsx)(C,{children:Object(o.jsx)(u.a,{children:Object(o.jsx)(j,{})})})})}),document.getElementById("root")),h()}},[[53,1,2]]]);
//# sourceMappingURL=main.67749cb5.chunk.js.map