{"version":3,"sources":["App.jsx","reportWebVitals.js","services/service.js","components/WithService.jsx","components/WithLogin.jsx","index.jsx"],"names":["App","path","element","HomePage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createService","token","http","axios","create","baseURL","process","timeout","headers","Authorization","checkAuth","a","post","status","ServiceContext","React","createContext","service","setService","WithService","children","Cookies","get","useState","value","useMemo","Provider","WithLogin","logged","setLogged","user","setUser","pass","setPass","useContext","useEffect","remove","className","onSubmit","event","base64","encode","set","preventDefault","htmlFor","type","onChange","e","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yOAMe,SAASA,IACtB,OACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOC,KAAK,cAAcC,QAAS,cAACC,EAAD,QAKzC,SAASA,IACP,OACE,4CChBJ,IAYeC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,yFCLDQ,EAAgB,SAACC,GAC1B,IAAMC,EAAOC,IAAMC,OAAO,CACtBC,QAASC,yCACTC,QAAS,IACTC,QAAS,CACLC,cAAe,SAAWR,KAGlC,MAAO,CACHS,UAAU,WAAD,4BAAE,sBAAAC,EAAA,+EAEeT,EAAKU,KAAL,UAFf,UAGgB,MAHhB,OAGKC,OAHL,0CAIQ,GAJR,iCAMI,GANJ,0DAQI,GARJ,yDAAF,kDAAC,KCPLC,EAAiBC,IAAMC,cAAc,CAChDC,QAASjB,EAAc,IACvBkB,WAAY,eAKC,SAASC,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SAC9BnB,EAAQoB,IAAQC,IAAI,cAC1B,EAA8BP,IAAMQ,SAASvB,EAAcC,GAAe,KAA1E,mBAAOgB,EAAP,KAAgBC,EAAhB,KACMM,EAAQT,IAAMU,SAAQ,iBAAO,CAAER,UAASC,gBAAe,CAACD,IAC9D,OACE,cAACH,EAAeY,SAAhB,CAAyBF,MAAOA,EAAhC,SAAwCJ,ICR7B,SAASO,EAAT,GAAkC,IAAbP,EAAY,EAAZA,SAClC,EAA4BL,IAAMQ,UAAS,GAA3C,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAAwBd,IAAMQ,SAAS,IAAvC,mBAAOO,EAAP,KAAaC,EAAb,KACA,EAAwBhB,IAAMQ,SAAS,IAAvC,mBAAOS,EAAP,KAAaC,EAAb,KACA,EDH8BlB,IAAMmB,WAAWpB,GCGvCG,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,WAsBjB,OApBAH,IAAMoB,WAAU,WACd,IAAMzB,EAAS,uCAAG,sBAAAC,EAAA,sEACSM,EAAQP,YADjB,cAGdmB,GAAU,IAEVA,GAAU,GACVR,IAAQe,OAAO,eAND,2CAAH,qDASf1B,MACC,CAACO,IASAW,EACKR,EAGL,qBAAKiB,UAAU,YAAf,SACE,sBAAMC,SAZZ,SAAsBC,GACpB,IAAMtC,EAAQuC,IAAOC,OAAP,UAAiBX,EAAjB,YAAyBE,IACvCX,IAAQqB,IAAI,aAAczC,GAC1BiB,EAAWlB,EAAcC,IACzBsC,EAAMI,kBAQF,SACE,kCACE,+BACE,6BACE,uBAAOC,QAAQ,WAAf,0BAEF,6BACE,uBACEC,KAAK,OACLrB,MAAOM,EACPgB,SAAU,SAACC,GACThB,EAAQgB,EAAEC,OAAOxB,eAKzB,+BACE,6BACE,uBAAOoB,QAAQ,WAAf,0BAEF,6BACE,uBACEC,KAAK,WACLrB,MAAOQ,EACPc,SAAU,SAACC,GACTd,EAAQc,EAAEC,OAAOxB,eAKzB,+BACE,uBACA,oBAAIa,UAAU,SAAd,SACE,uBAAOQ,KAAK,SAASrB,MAAM,uBC9D3CyB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAChC,EAAD,UACE,cAACQ,EAAD,UACE,cAAC,IAAD,UACE,cAACxC,EAAD,YAKRiE,SAASC,eAAe,SAG1B9D,M","file":"static/js/main.67749cb5.chunk.js","sourcesContent":["import * as React from \"react\";\nimport {\n  Routes,\n  Route,\n} from \"react-router-dom\";\n\nexport default function App() {\n  return (\n    <Routes>\n      <Route path=\"rss-reader/\" element={<HomePage />} />\n    </Routes>\n  );\n}\n\nfunction HomePage() {\n  return (\n    <div>Home page</div>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from \"axios\";\n\nexport const createService = (token) => {\n    const http = axios.create({\n        baseURL: process.env.REACT_APP_BACKEND_URL,\n        timeout: 10000,\n        headers: {\n            Authorization: \"Basic \" + token,\n        }\n    })\n    return {\n        checkAuth: async () => {\n            try {\n                const res = await http.post(`/login`);\n                if (res.status !== 200) {\n                    return false;\n                }\n                return true;\n            } catch (error) {\n                return false;\n            }\n        }\n    }\n}","import React from \"react\";\nimport Cookies from \"js-cookie\";\nimport { createService } from \"../services/service\";\n\nexport const ServiceContext = React.createContext({\n  service: createService(\"\"),\n  setService: () => {},\n});\n\nexport const useService = () => React.useContext(ServiceContext);\n\nexport default function WithService({ children }) {\n  const token = Cookies.get(\"auth_token\");\n  const [service, setService] = React.useState(createService(token? token : \"\"));\n  const value = React.useMemo(() => ({ service, setService }), [service]);\n  return (\n    <ServiceContext.Provider value={value}>{children}</ServiceContext.Provider>\n  );\n}\n","import React from \"react\";\nimport Cookies from \"js-cookie\";\nimport base64 from \"base-64\";\n\nimport \"./Login.css\";\nimport { useService } from \"./WithService\";\nimport { createService } from \"../services/service\";\n\nexport default function WithLogin({ children }) {\n  const [logged, setLogged] = React.useState(false);\n  const [user, setUser] = React.useState(\"\");\n  const [pass, setPass] = React.useState(\"\");\n  const { service, setService } = useService();\n\n  React.useEffect(() => {\n    const checkAuth = async () => {\n      const isLoggedIn = await service.checkAuth();\n      if (isLoggedIn) {\n        setLogged(true);\n      } else {\n        setLogged(false);\n        Cookies.remove(\"auth_token\");\n      }\n    };\n    checkAuth()\n  }, [service]);\n\n  function handleSubmit(event) {\n    const token = base64.encode(`${user}:${pass}`);\n    Cookies.set(\"auth_token\", token);\n    setService(createService(token));\n    event.preventDefault();\n  }\n\n  if (logged) {\n    return children;\n  } else {\n    return (\n      <div className=\"LoginForm\">\n        <form onSubmit={handleSubmit}>\n          <table>\n            <tr>\n              <td>\n                <label htmlFor=\"username\">Username: </label>\n              </td>\n              <td>\n                <input\n                  type=\"text\"\n                  value={user}\n                  onChange={(e) => {\n                    setUser(e.target.value);\n                  }}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <label htmlFor=\"password\">Password: </label>\n              </td>\n              <td>\n                <input\n                  type=\"password\"\n                  value={pass}\n                  onChange={(e) => {\n                    setPass(e.target.value);\n                  }}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td className=\"Submit\">\n                <input type=\"submit\" value=\"Submit\" />\n              </td>\n            </tr>\n          </table>\n        </form>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport WithLogin from \"./components/WithLogin\";\nimport WithService from \"./components/WithService\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <WithService>\n      <WithLogin>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </WithLogin>\n    </WithService>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}